{"nodes":[{"parameters":{"cronExpression":"0 * * * *","timezone":"UTC"},"name":"Cron","type":"n8n-nodes-base.cron","typeVersion":1},{"parameters":{"url":"https://api.quotable.io/random?tags=anime,motivational,gym,spiritual,book","responseFormat":"json"},"name":"Get Random Quote","type":"n8n-nodes-base.httpRequest","typeVersion":1},{"parameters":{"functionCode":"const quotes = $json[\"body\"];\nconst usedQuotes = $getWorkflowData(\"quotesUsed\");\nconst newQuote = quotes.find(q => !usedQuotes.includes(q._id));\n\nif (!newQuote) {\n    return {\"error\": \"All quotes have been used.\"};\n} else {\n    usedQuotes.push(newQuote._id);\n    $setWorkflowData(\"quotesUsed\", usedQuotes);\n    return {\"quote\": newQuote.content, \"author\": newQuote.author};\n}","name":"Select Quote","type":"n8n-nodes-base.function","typeVersion":1},{"parameters":{"chatId":"<YOUR_CHAT_ID>","text":"{{ $json[\"quote\"] }} - {{ $json[\"author\"] }}"},"name":"Send Telegram Message","type":"n8n-nodes-base.telegramSend","typeVersion":1}],"connections":{"Cron":{"main":[[{"node":"Get Random Quote","type":"main","index":0}]],"onSuccess":[[{"node":"Select Quote","type":"main","index":0}]],"onError":[[{"node":"Send Telegram Message","type":"main","index":0}]]}}